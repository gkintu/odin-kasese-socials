#!/bin/sh
# The following line is deprecated for Husky v7+ and has been removed:
# . "$(dirname "$0")/_/husky.sh"

echo "Husky pre-commit hook running (v9 style)..." >&2
npm run lint
exit_code=$? # Capture exit code of npm run lint
echo "npm run lint exited with code: $exit_code" >&2

if [ $exit_code -ne 0 ]; then
  echo "Linting failed. Aborting commit." >&2
  exit 1 # Exit with non-zero to abort commit
fi

echo "Linting passed. Proceeding with commit." >&2
exit 0
